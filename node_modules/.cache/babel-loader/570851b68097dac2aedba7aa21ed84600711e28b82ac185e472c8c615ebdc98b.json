{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MyComponent=()=>{const[transactions,setTransactions]=useState([]);const[filteredTransactions,setFilteredTransactions]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[newTransaction,setNewTransaction]=useState({description:'',category:'',amount:''});useEffect(()=>{fetchData();},[]);const fetchData=()=>{fetch('http://localhost:4000/transactions').then(response=>response.json()).then(data=>{setTransactions(data||[]);setFilteredTransactions(data||[]);}).catch(error=>{console.error('Error fetching data:',error);});};const sortData=key=>{// Filter transactions based on the search term\nconst filtered=transactions.filter(transaction=>Object.values(transaction).some(value=>String(value).toLowerCase().includes(searchTerm.toLowerCase())));// Update filteredTransactions with sorted and filtered data\nsetFilteredTransactions([...filtered]);};const handleSearch=()=>{// Filter transactions based on the search term\nconst filtered=transactions.filter(transaction=>Object.values(transaction).some(value=>String(value).toLowerCase().includes(searchTerm.toLowerCase())));// Update filteredTransactions with the filtered data\nsetFilteredTransactions(filtered);};const handleDelete=id=>{// Temporarily remove the transaction with the given ID\nconst updatedTransactions=transactions.filter(transaction=>transaction.id!==id);setTransactions(updatedTransactions);setFilteredTransactions(updatedTransactions);};const handleInputChange=e=>{const{name,value}=e.target;setNewTransaction(prevState=>({...prevState,[name]:value}));};const handlePostTransaction=()=>{// Generate a new ID for the transaction\nconst newId=transactions.length>0?Math.max(...transactions.map(transaction=>transaction.id))+1:1;// Create a new transaction with today's date and the generated ID\nconst today=new Date().toISOString().split('T')[0];const newTransactionWithDate={...newTransaction,id:newId,date:today};// Display the new transaction by updating state\nsetTransactions(prevState=>[...prevState,newTransactionWithDate]);setFilteredTransactions(prevState=>[...prevState,newTransactionWithDate]);// Reset the newTransaction state for the next input\nsetNewTransaction({description:'',category:'',amount:''});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"search\",placeholder:\"Search...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,id:\"button\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:newTransaction.description,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Category:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",value:newTransaction.category,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amount:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"amount\",value:newTransaction.amount,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePostTransaction,children:\"Post Transaction\"})]}),/*#__PURE__*/_jsxs(\"table\",{id:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:()=>sortData('id'),children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>sortData('Date'),children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>sortData('description'),children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>sortData('category'),children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>sortData('amount'),children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredTransactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:transaction.id}),/*#__PURE__*/_jsx(\"td\",{children:transaction.date}),/*#__PURE__*/_jsx(\"td\",{children:transaction.description}),/*#__PURE__*/_jsx(\"td\",{children:transaction.category}),/*#__PURE__*/_jsx(\"td\",{children:transaction.amount}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(transaction.id),children:\"Delete\"})]},transaction.id))})]})]});};export default MyComponent;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","MyComponent","transactions","setTransactions","filteredTransactions","setFilteredTransactions","searchTerm","setSearchTerm","newTransaction","setNewTransaction","description","category","amount","fetchData","fetch","then","response","json","data","catch","error","console","sortData","key","filtered","filter","transaction","Object","values","some","value","String","toLowerCase","includes","handleSearch","handleDelete","id","updatedTransactions","handleInputChange","e","name","target","prevState","handlePostTransaction","newId","length","Math","max","map","today","Date","toISOString","split","newTransactionWithDate","date","children","type","placeholder","onChange","onClick"],"sources":["/home/evans/Development/Code/react/bank-of-flatironn/src/fetch.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst MyComponent = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [filteredTransactions, setFilteredTransactions] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [newTransaction, setNewTransaction] = useState({\n    description: '',\n    category: '',\n    amount: ''\n  });\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    fetch('http://localhost:4000/transactions')\n      .then(response => response.json())\n      .then(data => {\n        setTransactions(data || []);\n        setFilteredTransactions(data || []);\n      })\n      .catch(error => {\n        console.error('Error fetching data:', error);\n      });\n  };\n\n  const sortData = (key) => {\n    // Filter transactions based on the search term\n    const filtered = transactions.filter(transaction =>\n      Object.values(transaction).some(value =>\n        String(value).toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n\n    // Update filteredTransactions with sorted and filtered data\n    setFilteredTransactions([...filtered]);\n  };\n\n  const handleSearch = () => {\n    // Filter transactions based on the search term\n    const filtered = transactions.filter(transaction =>\n      Object.values(transaction).some(value =>\n        String(value).toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n\n    // Update filteredTransactions with the filtered data\n    setFilteredTransactions(filtered);\n  };\n\n  const handleDelete = (id) => {\n    // Temporarily remove the transaction with the given ID\n    const updatedTransactions = transactions.filter(transaction => transaction.id !== id);\n    setTransactions(updatedTransactions);\n    setFilteredTransactions(updatedTransactions);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewTransaction(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handlePostTransaction = () => {\n    // Generate a new ID for the transaction\n    const newId = transactions.length > 0 ? Math.max(...transactions.map(transaction => transaction.id)) + 1 : 1;\n\n    // Create a new transaction with today's date and the generated ID\n    const today = new Date().toISOString().split('T')[0];\n    const newTransactionWithDate = {\n      ...newTransaction,\n      id: newId,\n      date: today\n    };\n\n    // Display the new transaction by updating state\n    setTransactions(prevState => [...prevState, newTransactionWithDate]);\n    setFilteredTransactions(prevState => [...prevState, newTransactionWithDate]);\n\n    // Reset the newTransaction state for the next input\n    setNewTransaction({\n      description: '',\n      category: '',\n      amount: ''\n    });\n  };\n\n  return (\n    <div>\n      <div>\n        <input\n          type=\"text\"\n          id=\"search\"\n          placeholder=\"Search...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button onClick={handleSearch} id=\"button\">Search</button>\n      </div>\n\n      <form>\n        <label>\n          Description:\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={newTransaction.description}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          Category:\n          <input\n            type=\"text\"\n            name=\"category\"\n            value={newTransaction.category}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          Amount:\n          <input\n            type=\"text\"\n            name=\"amount\"\n            value={newTransaction.amount}\n            onChange={handleInputChange}\n          />\n        </label>\n        <button type=\"button\" onClick={handlePostTransaction}>Post Transaction</button>\n      </form>\n\n      <table id='table'>\n        <thead>\n          <tr>\n            <th onClick={() => sortData('id')}>ID</th>\n            <th onClick={() => sortData('Date')}>Date</th>\n            <th onClick={() => sortData('description')}>Description</th>\n            <th onClick={() => sortData('category')}>Category</th>\n            <th onClick={() => sortData('amount')}>Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {filteredTransactions.map((transaction) => (\n            <tr key={transaction.id}>\n              <td>{transaction.id}</td>\n              <td>{transaction.date}</td>\n              <td>{transaction.description}</td>\n              <td>{transaction.category}</td>\n              <td>{transaction.amount}</td>\n              <button onClick={() => handleDelete(transaction.id)}>Delete</button>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default MyComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}